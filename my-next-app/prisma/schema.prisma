generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Customer {
  Customer_ID      Int                @id @default(autoincrement())
  Name             String?            @db.VarChar(255)
  ZipCode          String?            @db.VarChar(10)
  Phone_Number     String?            @db.VarChar(20)
  Email            String?            @db.VarChar(255)
  Type_Of_Customer String?            @db.VarChar(100)
  Purchase_History Purchase_History[]
}

model Product {
  Product_ID       Int                @id @default(autoincrement())
  Product_Name     String?            @db.VarChar(255)
  Product_Type     String?            @db.VarChar(100)
  Variant          String?            @db.VarChar(100)
  Price            Decimal?           @db.Decimal(10, 2)
  Purchase_History Purchase_History[]
}

model Purchase_History {
  Purchase_History_ID Int       @id @default(autoincrement())
  Customer_ID         Int?
  Product_ID          Int?
  Quantity            Int?
  Total_Price         Decimal?  @db.Decimal(10, 2)
  Sale_Date           DateTime? @db.Date
  Sale_Type           String?   @db.VarChar(50)
  InStorePurchase     Boolean?
  Shipping_Method     String?   @db.VarChar(100)
  Customer            Customer? @relation(fields: [Customer_ID], references: [Customer_ID], onDelete: Restrict, onUpdate: Restrict, map: "purchase_history_ibfk_1")
  Product             Product?  @relation(fields: [Product_ID], references: [Product_ID], onDelete: Restrict, onUpdate: Restrict, map: "purchase_history_ibfk_2")

  @@index([Customer_ID], map: "Customer_ID")
  @@index([Product_ID], map: "Product_ID")
}

model Saved_Template {
  Saved_Template_ID Int       @id @default(autoincrement())
  Date_Created      DateTime? @db.Date
  Content           String?   @db.Text
  Name              String?   @db.VarChar(255)
  User              User[]
}

model User {
  UserID            Int             @id @default(autoincrement())
  Username          String?         @db.VarChar(255)
  Department        String?         @db.VarChar(100)
  Position          String?         @db.VarChar(100)
  Role              String?         @db.VarChar(50)
  Saved_Template_ID Int?
  Saved_Template    Saved_Template? @relation(fields: [Saved_Template_ID], references: [Saved_Template_ID], onDelete: Restrict, onUpdate: Restrict, map: "user_ibfk_1")

  @@index([Saved_Template_ID], map: "Saved_Template_ID")
}
